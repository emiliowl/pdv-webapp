<div class="app-view-header">
   <strong ng-bind="$root.pos.name"></strong>
   <small>Frente de Caixa</small>
</div>
<div class="container-fluid container-flush">
   <div class="row">
      <div class="col-lg-4 col-md-4 col-xs-12">
         <h2>Nova venda sendo realizada:</h2>
         <div class="table-responsive">
            <table class="table table-striped">
               <thead>
                  <tr>
                     <th>produto</th>
                     <th>valor</th>
                     <th>quantidade</th>
                     <th>valor total</th>
                  </tr>
               </thead>
               <tbody>
                  <tr ng-repeat="item in ctrl.selectedSale.items">
                     <td>
                        <span ng-bind="item.product.name"></span>
                     </td>
                     <td>
                        <span ng-bind="item.product.price | currency : &quot;R$&quot; : 2"></span>
                     </td>
                     <td>
                        <span ng-bind="item.quantity"></span>
                     </td>
                     <td>
                        <span>{{(item.product.price * item.quantity) | currency : 'R$' : 2}}</span>
                     </td>
                  </tr>
               </tbody>
               <tfoot>
                  <tr>
                     <td></td>
                     <td></td>
                     <td></td>
                     <td>
                        <span ng-bind="ctrl.calculateSellValue() | currency : 'R$' : 2"></span>
                     </td>
                  </tr>
               </tfoot>
            </table>
         </div>
      </div>
   </div>
   <hr/>
   <div class="row">
      <fieldset>
         <div class="form-group">
            <label for="barcode" class="col-md-2 control-label">Código de Barras</label>
            <div class="col-md-10">
               <input id="barcode" ng-model="ctrl.search.barcode" type="text" autofocus="autofocus" class="form-control shadow-z1" />
            </div>
         </div>
      </fieldset>
   </div>
   <div class="row">
      <div class="btn-offset-inner">
         <button type="button" ripple="" ng-click="ctrl.create()" class="btn btn-primary btn-circle btn-lg shadow-z1">
            <em class="fa fa-shopping-cart"></em>
         </button>
      </div>
      <div ng-repeat="product in ctrl.products | filter:ctrl.search.barcode" class="col-lg-4 col-md-4 col-xs-6">
         <div ng-click="ctrl.sell(product)" class="row">
            <div class="col-md-12 col-xs-12">
               <!-- START Panel-->
               <div chained-animation="fadeInUp" ng-style="{'background-image':'url({{product.images[0].secure_url}})'}" class="panel panel-card-xs panel-card-image">
                  <div class="panel-body-xs text-center"></div>
                  <div class="panel-footer text-center">
                     <div class="row">
                        <div class="col-md-12 col-xs-12">
                           <h2 class="text-lg text-white">{{ product.price | currency : 'R$' : 2 }}</h2>
                           <small ng-bind="product.name" class="text-white"></small>
                           <br/>
                           <small ng-bind="product.description" class="text-white"></small>
                           <br/>
                           <label>Código de barras:</label>
                           <small ng-bind="product.barcode" class="text-white"></small>
                        </div>
                     </div>
                  </div>
               </div>
            </div>
         </div>
      </div>
   </div>
</div>
<script type="text/ng-template" id="sellDetails.html">
   <div class="modal-content"><div class="modal-header"><h4 id="myModalLabel" class="modal-title">Realizando venda do produto {{control.product.name}}</h4></div><div class="modal-body"><fieldset><div class="form-group"><label for="quantity" class="col-md-2 control-label">Quantidade</label><div class="col-md-10"><input id="quantity" ng-model="control.quantity" type="number" class="form-control shadow-z1"/></div></div></fieldset></div><div class="modal-footer"><div class="form-group"><a href="#" ripple="" ng-click="control.save()" class="btn btn-md btn-success btn-flat"> Salvar</a>&nbsp;<a href="#" ripple="" ng-click="control.close()" class="btn btn-md btn-danger btn-flat">Cancelar</a></div></div></div>
</script>